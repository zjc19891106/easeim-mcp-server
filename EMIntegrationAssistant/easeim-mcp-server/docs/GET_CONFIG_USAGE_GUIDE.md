# get_config_usage å·¥å…·ä½¿ç”¨æŒ‡å—

## å·¥å…·æ¦‚è¿°

`get_config_usage` æ˜¯ç¯ä¿¡ IM SDK MCP Server æä¾›çš„é…ç½®é¡¹æŸ¥è¯¢å·¥å…·ï¼Œç”¨äºæ·±å…¥äº†è§£æŸä¸ªé…ç½®é¡¹çš„ï¼š
- ä½¿ç”¨ä½ç½®
- å½±å“èŒƒå›´
- ä»£ç ç¤ºä¾‹
- ä½¿ç”¨å»ºè®®

## ä½¿ç”¨åœºæ™¯

### åœºæ™¯ 1ï¼šäº†è§£é…ç½®é¡¹çš„ä½œç”¨

**é—®é¢˜**: "avatarRadius è¿™ä¸ªé…ç½®é¡¹æ˜¯åšä»€ä¹ˆçš„ï¼Ÿ"

**MCP è°ƒç”¨**:
```
get_config_usage(propertyName: "avatarRadius")
```

**è¿”å›ä¿¡æ¯**:
- âœ… åŸºæœ¬ä¿¡æ¯ï¼šç±»å‹ã€é»˜è®¤å€¼ã€ç±»åˆ«
- âœ… å½±å“æ¦‚è¿°ï¼šä½¿ç”¨ 33 æ¬¡ï¼Œå½±å“ 25 ä¸ªç»„ä»¶
- âœ… å½±å“çš„ç»„ä»¶åˆ—è¡¨ï¼ˆæŒ‰ç±»å‹åˆ†ç»„ï¼‰
- âœ… ä»£ç ç¤ºä¾‹ï¼ˆæœ€å¤š 5 ä¸ªï¼‰
- âœ… ä½¿ç”¨å»ºè®®

---

### åœºæ™¯ 2ï¼šæŸ¥çœ‹é…ç½®é¡¹çš„å½±å“èŒƒå›´

**é—®é¢˜**: "ä¿®æ”¹ primaryHue ä¼šå½±å“å“ªäº› UI ç»„ä»¶ï¼Ÿ"

**MCP è°ƒç”¨**:
```
get_config_usage(propertyName: "primaryHue")
```

**è¿”å›ä¿¡æ¯**:
- è™½ç„¶ç›´æ¥ä½¿ç”¨åªæœ‰ 1 æ¬¡ï¼Œä½†é€šè¿‡ `ColorTheme` ç±»é—´æ¥å½±å“æ‰€æœ‰ä½¿ç”¨ä¸»é¢˜è‰²çš„ç»„ä»¶
- åŒ…å«è¯¦ç»†çš„ä½œç”¨æœºåˆ¶è¯´æ˜

---

### åœºæ™¯ 3ï¼šäº†è§£å¦‚ä½•ä½¿ç”¨é…ç½®é¡¹

**é—®é¢˜**: "å¦‚ä½•ä¿®æ”¹å¤´åƒå ä½å›¾ï¼Ÿ"

**MCP è°ƒç”¨**:
```
get_config_usage(propertyName: "avatarPlaceHolder")
```

**è¿”å›ä¿¡æ¯**:
- âœ… ç±»å‹ï¼š`UIImage?`
- âœ… ä½¿ç”¨ç¤ºä¾‹ä»£ç 
- âœ… å½±å“çš„ 6 ä¸ªç»„ä»¶
- âœ… ä½¿ç”¨å»ºè®®ï¼ˆæ¨èä½¿ç”¨ç›¸åŒå°ºå¯¸çš„å›¾ç‰‡ï¼‰

---

## è¾“å‡ºæ ¼å¼

å·¥å…·è¿”å›çš„ä¿¡æ¯åŒ…å«ä»¥ä¸‹éƒ¨åˆ†ï¼š

### 1. ğŸ“‹ åŸºæœ¬ä¿¡æ¯
```
- åç§°: avatarRadius
- ç±»å‹: CornerRadius
- é»˜è®¤å€¼: .extraSmall
- ç±»åˆ«: Corner
- å®šä¹‰ä½ç½®: EaseChatUIKit/Classes/UI/Core/UIKit/Commons/Appearance.swift:47
```

### 2. ğŸ¯ å½±å“æ¦‚è¿°
```
è®¾ç½® ChatHistoryCell, ForwardTargetCell, MessageCell ç­‰çš„åœ†è§’

- ä½¿ç”¨æ¬¡æ•°: 33 å¤„
- å½±å“ç»„ä»¶æ•°: 25 ä¸ª
```

### 3. ğŸ¨ å½±å“çš„ UI ç»„ä»¶

æŒ‰ç»„ä»¶ç±»å‹åˆ†ç»„æ˜¾ç¤ºï¼š

#### Cell ç»„ä»¶
- âœ… **ChatHistoryCell**
- âœ… **ForwardTargetCell**
- âœ… **MessageCell**
- âœ… **ReactionDetailCell**
- ...

#### View ç»„ä»¶
- âœ… **ContactCardView**
- âœ… **MessageInputEmojiView**
- ...

#### Controller ç»„ä»¶
- âœ… **ReportOptionsController**
- ...

### 4. ğŸ“ ä½¿ç”¨ä½ç½®ç¤ºä¾‹

æ˜¾ç¤ºæœ€å¤š 5 ä¸ªå®é™…ä½¿ç”¨ä½ç½®ï¼š

```
ç¤ºä¾‹ 1

æ–‡ä»¶: EaseChatUIKit/Classes/UI/Components/Chat/Cells/ChatHistoryCell.swift:13
ç»„ä»¶: ChatHistoryCell

ä»£ç ä¸Šä¸‹æ–‡:
```swift

public private(set) lazy var avatar: ImageView = {
>>> ImageView(frame: CGRect(x: 16, y: 10, width: 32, height: 32)).cornerRadius(Appearance.avatarRadius).contentMode(.scaleAspectFill)
}()
```

### 5. ğŸ’¡ ä½¿ç”¨å»ºè®®

æ ¹æ®é…ç½®é¡¹ç±»åˆ«æä¾›é’ˆå¯¹æ€§å»ºè®®ï¼š

**Colorï¼ˆé¢œè‰²ï¼‰**:
```swift
// ä¿®æ”¹ä¸ºè‡ªå®šä¹‰è‰²è°ƒ
Appearance.primaryHue = 120/360.0  // ç»¿è‰²
```
å»ºè®®åœ¨åº”ç”¨å¯åŠ¨æ—¶ã€UIKit åˆå§‹åŒ–ä¹‹å‰è®¾ç½®ã€‚

**Cornerï¼ˆåœ†è§’ï¼‰**:
```swift
// å¯é€‰å€¼ï¼š.none, .extraSmall, .small, .medium, .large
Appearance.avatarRadius = .medium
```
- `.none` - æ— åœ†è§’ï¼ˆæ–¹å½¢ï¼‰
- `.extraSmall` - æå°åœ†è§’
- `.small` - å°åœ†è§’
- `.medium` - ä¸­ç­‰åœ†è§’
- `.large` - å¤§åœ†è§’ï¼ˆæ¥è¿‘åœ†å½¢ï¼‰

**Sizeï¼ˆå°ºå¯¸ï¼‰**:
```swift
// è®¾ç½®è‡ªå®šä¹‰å°ºå¯¸
Appearance.actionSheetRowHeight = 100.0  // CGFloat å€¼
```
å»ºè®®æ ¹æ®è®¾è®¡ç¨¿å’Œå±å¹•å°ºå¯¸è¿›è¡Œè°ƒæ•´ã€‚

**Imageï¼ˆå›¾ç‰‡ï¼‰**:
```swift
// ä½¿ç”¨è‡ªå®šä¹‰å›¾ç‰‡
Appearance.avatarPlaceHolder = UIImage(named: "my_custom_image")
```
å»ºè®®ä½¿ç”¨ä¸åŸå›¾ç›¸åŒå°ºå¯¸çš„å›¾ç‰‡ï¼Œä»¥ä¿æŒè§†è§‰ä¸€è‡´æ€§ã€‚

---

## å®é™…ä½¿ç”¨ç¤ºä¾‹

### ç¤ºä¾‹ 1ï¼šè‡ªå®šä¹‰å¤´åƒåœ†è§’

```typescript
// 1. æŸ¥è¯¢é…ç½®é¡¹è¯¦æƒ…
get_config_usage(propertyName: "avatarRadius")

// ä»è¿”å›ç»“æœå¾—çŸ¥ï¼š
// - ç±»å‹ï¼šCornerRadius
// - å½±å“ 25 ä¸ªç»„ä»¶
// - å¯é€‰å€¼ï¼š.none, .extraSmall, .small, .medium, .large

// 2. åœ¨ä»£ç ä¸­åº”ç”¨
```swift
// åœ¨ UIKit åˆå§‹åŒ–ä¹‹å‰è®¾ç½®
Appearance.avatarRadius = .large  // ä½¿ç”¨å¤§åœ†è§’
```

### ç¤ºä¾‹ 2ï¼šä¿®æ”¹ä¸»é¢˜è‰²

```typescript
// 1. æŸ¥è¯¢ä¸»è‰²è°ƒé…ç½®
get_config_usage(propertyName: "primaryHue")

// ä»è¿”å›ç»“æœå¾—çŸ¥ï¼š
// - ç±»å‹ï¼šCGFloat
// - é»˜è®¤å€¼ï¼š203/360.0ï¼ˆè“è‰²ï¼‰
// - é—´æ¥å½±å“æ‰€æœ‰ä½¿ç”¨ä¸»é¢˜è‰²çš„ç»„ä»¶

// 2. ä¿®æ”¹ä¸ºå“ç‰Œè‰²
```swift
Appearance.primaryHue = 120/360.0  // ç»¿è‰²
Appearance.secondaryHue = 140/360.0
```

### ç¤ºä¾‹ 3ï¼šè‡ªå®šä¹‰å ä½å›¾

```typescript
// 1. æŸ¥è¯¢å ä½å›¾é…ç½®
get_config_usage(propertyName: "avatarPlaceHolder")

// ä»è¿”å›ç»“æœå¾—çŸ¥ï¼š
// - ç±»å‹ï¼šUIImage?
// - å½±å“ 6 ä¸ªç»„ä»¶
// - ç”¨äºå¤´åƒåŠ è½½å¤±è´¥æˆ–ä¸ºç©ºæ—¶æ˜¾ç¤º

// 2. æ›¿æ¢ä¸ºè‡ªå®šä¹‰å›¾ç‰‡
```swift
Appearance.avatarPlaceHolder = UIImage(named: "brand_logo")
```

---

## ä¸å…¶ä»–å·¥å…·çš„é…åˆä½¿ç”¨

### 1. å‘ç°é…ç½®é¡¹
```
list_config_options(component: "EaseChatUIKit")
â†’ åˆ—å‡ºæ‰€æœ‰é…ç½®é¡¹
```

### 2. æŸ¥çœ‹è¯¦æƒ…
```
get_config_usage(propertyName: "avatarRadius")
â†’ æŸ¥çœ‹è¯¥é…ç½®é¡¹çš„è¯¦ç»†ä½¿ç”¨æƒ…å†µ
```

### 3. æŸ¥çœ‹æºç 
```
read_source(path: "EaseChatUIKit/Classes/UI/Components/Chat/Cells/ChatHistoryCell.swift", startLine: 10, endLine: 20)
â†’ æŸ¥çœ‹å…·ä½“ä½¿ç”¨ä½ç½®çš„å®Œæ•´ä»£ç 
```

---

## é”™è¯¯å¤„ç†

### é…ç½®é¡¹ä¸å­˜åœ¨

**è¾“å…¥**:
```
get_config_usage(propertyName: "invalidName")
```

**è¾“å‡º**:
```
æœªæ‰¾åˆ°é…ç½®é¡¹ "invalidName" çš„ä½¿ç”¨ä¿¡æ¯ã€‚

å¯èƒ½çš„åŸå› ï¼š
1. é…ç½®é¡¹åç§°æ‹¼å†™é”™è¯¯
2. è¯¥é…ç½®é¡¹ä¸å­˜åœ¨
3. å°šæœªç”Ÿæˆå½±å“åˆ†ææ•°æ®

å»ºè®®ä½¿ç”¨ `list_config_options` æŸ¥çœ‹æ‰€æœ‰å¯ç”¨çš„é…ç½®é¡¹ã€‚
```

---

## æœ€ä½³å®è·µ

### 1. é…ç½®å‰å…ˆæŸ¥è¯¢
åœ¨ä¿®æ”¹ä»»ä½•é…ç½®é¡¹ä¹‹å‰ï¼Œå…ˆä½¿ç”¨ `get_config_usage` äº†è§£å…¶å½±å“èŒƒå›´ï¼Œé¿å…æ„å¤–å½±å“å…¶ä»–ç»„ä»¶ã€‚

### 2. æŸ¥çœ‹ä»£ç ç¤ºä¾‹
é€šè¿‡è¿”å›çš„ä»£ç ç¤ºä¾‹ï¼Œäº†è§£é…ç½®é¡¹åœ¨å®é™…é¡¹ç›®ä¸­çš„ä½¿ç”¨æ–¹å¼ã€‚

### 3. å…³æ³¨å½±å“èŒƒå›´
ç‰¹åˆ«å…³æ³¨"å½±å“ç»„ä»¶æ•°"ï¼Œæ•°å­—è¶Šå¤§è¯´æ˜é…ç½®é¡¹çš„å½±å“èŒƒå›´è¶Šå¹¿ã€‚

### 4. æŒ‰ç±»åˆ«é…ç½®
æ ¹æ®é…ç½®é¡¹çš„ç±»åˆ«ï¼ˆColor/Corner/Size/Image/Styleï¼‰ï¼Œä½¿ç”¨ç›¸åº”çš„é…ç½®æ–¹å¼ã€‚

### 5. æµ‹è¯•é…ç½®æ•ˆæœ
ä¿®æ”¹é…ç½®åï¼Œé‡ç‚¹æµ‹è¯•"å½±å“çš„ UI ç»„ä»¶"åˆ—è¡¨ä¸­çš„ç»„ä»¶ï¼Œç¡®ä¿è§†è§‰æ•ˆæœç¬¦åˆé¢„æœŸã€‚

---

## å¸¸ç”¨é…ç½®é¡¹é€ŸæŸ¥

| é…ç½®é¡¹ | ç±»åˆ« | å½±å“èŒƒå›´ | ä¼˜å…ˆçº§ |
|--------|------|---------|--------|
| `avatarRadius` | Corner | 25 ä¸ªç»„ä»¶ | â­â­â­â­â­ |
| `avatarPlaceHolder` | Image | 6 ä¸ªç»„ä»¶ | â­â­â­â­ |
| `primaryHue` | Color | å…¨å±€ä¸»é¢˜ | â­â­â­â­â­ |
| `secondaryHue` | Color | å…¨å±€è¾…åŠ©è‰² | â­â­â­â­ |
| `alertStyle` | Style | 2 ä¸ªç»„ä»¶ | â­â­â­ |
| `actionSheetRowHeight` | Size | 2 ä¸ªç»„ä»¶ | â­â­â­ |

---

## æ€»ç»“

`get_config_usage` å·¥å…·æä¾›äº†é…ç½®é¡¹çš„å®Œæ•´ä¿¡æ¯ï¼Œå¸®åŠ©å¼€å‘è€…ï¼š
1. âœ… å¿«é€Ÿäº†è§£é…ç½®é¡¹çš„ä½œç”¨
2. âœ… å‡†ç¡®è¯„ä¼°é…ç½®é¡¹çš„å½±å“èŒƒå›´
3. âœ… å‚è€ƒå®é™…ä»£ç ç¤ºä¾‹
4. âœ… è·å¾—é’ˆå¯¹æ€§çš„ä½¿ç”¨å»ºè®®

é…åˆå…¶ä»–å·¥å…·ï¼ˆ`list_config_options`, `read_source`ï¼‰ä½¿ç”¨ï¼Œå¯ä»¥å®ç°é«˜æ•ˆçš„ UI å®šåˆ¶å¼€å‘ã€‚
