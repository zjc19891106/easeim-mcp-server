@import '../../style/themes/default.scss';

$network-quality-prefix: 'cui-network-quality';

// ç½‘ç»œè´¨é‡é¢œè‰²å®šä¹‰ - æ”¯æŒ1-6çº§åˆ«
$network-quality-colors: (
  'excellent': #33FFAA,  // ç»¿è‰² - ä¿¡å·æå¥½/å¾ˆå¥½ (level 1-2)
  'good': #faad14,       // æ©™è‰² - ä¿¡å·å¥½/ä¸€èˆ¬ (level 3-4)
  'poor': #ff4d4f,       // çº¢è‰² - ä¿¡å·å·®/æå·® (level 5-6)
);

// å°ºå¯¸å®šä¹‰ - æ¢å¤ä¸º3ä¸ªä¿¡å·æ¡
$network-quality-sizes: (
  'small': (
    width: 16px,
    height: 12px,
    bar-width: 3px,
    gap: 2px,
    border-radius: 2px, // ğŸ”§ å¢åŠ åœ†è§’
  ),
  'medium': (
    width: 22px,
    height: 22px,
    bar-width: 4px,
    gap: 3px,
    border-radius: 5px, // ğŸ”§ å¢åŠ åœ†è§’
  ),
  'large': (
    width: 22px,
    height: 22px,
    bar-width: 4px,
    gap: 3px,
    border-radius: 5px, // ğŸ”§ å¢åŠ åœ†è§’
  ),
);

// ä¸»å®¹å™¨
.#{$network-quality-prefix} {
  display: inline-flex;
  align-items: flex-end;
  vertical-align: middle;
  
  // ä¿¡å·æ¡å®¹å™¨
  &-bars {
    display: flex;
    align-items: flex-end;
    height: 100%;
  }
  
  // å•ä¸ªä¿¡å·æ¡
  &-bar {
    background-color: rgba(0, 0, 0, 0.50);
    transition: all 0.3s ease;
    border-radius: 2px; // ğŸ”§ ç»™æ‰€æœ‰ä¿¡å·æ¡æ·»åŠ åŸºç¡€åœ†è§’
    
    // é»˜è®¤çŠ¶æ€ - åŠé€æ˜é»‘è‰²
    &:not(&-active) {
      background-color: rgba(0, 0, 0, 0.50);
    }
    
    // æ¿€æ´»çŠ¶æ€ä¼šæ ¹æ®çˆ¶çº§çš„é¢œè‰²ç±»æ¥è®¾ç½®é¢œè‰²
  }
  
  // ä¸åŒå°ºå¯¸çš„æ ·å¼
  @each $size, $config in $network-quality-sizes {
    &-#{$size} {
      width: map-get($config, width);
      height: map-get($config, height);
      
      .#{$network-quality-prefix}-bar {
        width: map-get($config, bar-width);
        margin-right: map-get($config, gap);
        border-radius: map-get($config, border-radius);
        
        &:last-child {
          margin-right: 0;
        }
        
        // 3ä¸ªä¸åŒé«˜åº¦çš„ä¿¡å·æ¡
        &-1 {
          height: 25%;
        }
        
        &-2 {
          height: 60%;
        }
        
        &-3 {
          height: 100%;
        }
      }
    }
  }
  
  // ä¸åŒè´¨é‡ç­‰çº§çš„é¢œè‰²
  @each $level, $color in $network-quality-colors {
    &.#{$network-quality-prefix}-#{$level} {
      .#{$network-quality-prefix}-bar-active {
        background-color: $color;
      }
    }
  }
  
  // Hover æ•ˆæœ
  &:hover {
    .#{$network-quality-prefix}-bar-active {
      opacity: 0.8;
    }
  }
}

// æ·±è‰²æ¨¡å¼æ”¯æŒ
@media (prefers-color-scheme: dark) {
  .#{$network-quality-prefix} {
    &-bar:not(&-bar-active) {
      background-color: rgba(0, 0, 0, 0.50);
    }
  }
} 